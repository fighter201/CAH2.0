<html>
<head>
    <h1>Tittle 1</h1>
</head>

<script src="/socket.io/socket.io.js"></script>

<script>
    var socket=io('/DB');
    const lobbyUrl = "/waitingGamestart.html";

</script>
<script>
    function createLobby() {
        console.log('input content: ' + document.getElementById('gameID').value);
        
        if (document.getElementById('gameID').value=='' || document.getElementById('gameID').value.includes(' ')) {
            console.log('no valid gameID');
            return;
        }
        // var settings = extractSettings();

        var gameID = document.getElementById('gameID').value;
        var userID = 'default user';
        var settings = [3, true, '5min'];
        socket.emit('createGame', userID, gameID, settings);
        socket.on('duplicatedGameID', function(duplicate) {
            if (!duplicate){
                window.sessionStorage.setItem('gameID', gameID);
                window.sessionStorage.setItem('master', true);
                window.location.href = lobbyUrl;
            } else {
                alert('duplicated gameID');
            }
        });
    }

    function extractSettings() {
        //TODO
        return array();
    }

</script>

<body>
    <p>
        create Game !!!!!!
        Settings list
    </p>
    <label for="gameID">GameID: </label>
    <input type="text", id='gameID'>
    
    <button onclick="createLobby()">create Game</button>
</body>

</html>